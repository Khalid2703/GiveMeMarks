# ğŸ¨ SYSTEM ARCHITECTURE & FLOW DIAGRAMS

**Visual Guide to UOH Academic Evaluation System**

---

## ğŸ“Š COMPLETE DATA FLOW OVERVIEW

```
Faculty â†’ Upload PDFs â†’ Frontend (React)
    â†“
Backend API (FastAPI) â†’ Save to data/documents/
    â†“
Process Request â†’ Academic Evaluator
    â†“
For Each PDF:
    â†“
PDF Processor â†’ Extract text OR â†’ OCR Processor
    â†“                              â†“
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ Text â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“
LLM Analyzer (Gemini/Cohere)
    â†“
Structured JSON Data
    â†“
Validation & Enrichment
    â†“
Dual Storage: Excel + Supabase
    â†“
Dashboard Analytics Calculation
    â†“
Response to Frontend â†’ Faculty views results
```

---

## ğŸ”„ 3-PASS OCR STRATEGY (TASK A)

```
INPUT: Scanned PDF
    â†“
PASS 1: Standard OCR (Tesseract basic)
    â†“
Calculate Confidence (0.0-1.0)
    â”œâ”€ >= 0.8 â†’ SUCCESS âœ…
    â”œâ”€ 0.5-0.8 â†’ PASS 2
    â””â”€ < 0.5 â†’ PASS 2
          â†“
PASS 2: Enhanced OCR (preprocessing)
    â€¢ Noise reduction
    â€¢ Contrast adjustment
    â€¢ Re-run OCR
    â†“
Re-calculate Confidence
    â”œâ”€ >= 0.7 â†’ SUCCESS âœ…
    â””â”€ < 0.7 â†’ PASS 3
          â†“
PASS 3: Flag for Manual Review
    â€¢ requires_review: true
    â€¢ List missing fields
    â€¢ Store for faculty review
    â†“
OUTPUT: Data + Confidence Metadata
```

---

## ğŸ¤– DUAL LLM PROVIDER (TASK B)

```
Extracted Text
    â†“
Construct Request:
  â€¢ System Prompt (Zero-hallucination rules)
  â€¢ User Message (JSON data)
  â€¢ Temperature = 0.1
  â€¢ Max Tokens = 2000
    â†“
Try PRIMARY: Gemini 1.5 Flash
    â”œâ”€ Success â†’ Parse Response
    â””â”€ Quota/Error â†’ FALLBACK
          â†“
    Cohere Command-R
    â”œâ”€ Success â†’ Parse Response
    â””â”€ Fail â†’ Manual Review
          â†“
Validation:
  âœ“ No invented values?
  âœ“ "Data not available" used?
  âœ“ No medical claims?
  âœ“ Factual only?
    â†“
OUTPUT: Structured Analysis
```

---

## ğŸ“Š 3 DASHBOARD CHARTS (TASK C)

```
Student Records Array
    â†“
Split into 3 parallel processes:
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CHART 1     â”‚   CHART 2      â”‚   CHART 3    â”‚
â”‚ CGPA Distrib  â”‚ Subject Avg    â”‚  At-Risk     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â†“                â†“               â†“
Group by CGPA   Loop courses   Check flags:
ranges          Calculate avg   â€¢ CGPA < 6
Count students  Classify diff   â€¢ Attend < 75%
                                â€¢ Backlogs >= 3
    â†“                â†“               â†“
Histogram       Bar Chart       Priority Table
Data            Data            (High/Med/Low)
```

---

## ğŸ“„ EXCEL 3-SHEET STRUCTURE (TASK D)

```
Excel Workbook
    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SHEET 1    â”‚  SHEET 2     â”‚  SHEET 3    â”‚
â”‚ Raw Records â”‚ Subjects     â”‚ At-Risk     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

SHEET 1: All student data
  â€¢ 16 columns
  â€¢ Color-coded by confidence
  â€¢ Auto-filter enabled

SHEET 2: Subject statistics
  â€¢ Course averages
  â€¢ Difficulty classification
  â€¢ Formulas for calculations

SHEET 3: At-risk students
  â€¢ Priority levels (High/Med/Low)
  â€¢ Risk factors listed
  â€¢ Action recommendations
```

---

## ğŸ¯ FACULTY WORKFLOW

```
1. LOGIN â†’ Web Interface

2. UPLOAD â†’ Select PDFs
   â€¢ Drag & drop
   â€¢ Multiple files
   â€¢ See progress

3. PROCESS â†’ Click "Process Documents"
   â€¢ Real-time progress
   â€¢ Success/fail count
   â€¢ Estimated time

4. REVIEW â†’ View Results
   â€¢ Student table
   â€¢ Statistics
   â€¢ At-risk flags

5. ACTIONS:
   â”œâ”€ Download Excel Report
   â”œâ”€ View Dashboard Charts
   â”œâ”€ Review Flagged Documents
   â””â”€ Export to LMS

6. FOLLOW-UP:
   â€¢ Email at-risk students
   â€¢ Schedule counseling
   â€¢ Adjust curriculum
   â€¢ Report to department
```

---

## ğŸ” SECURITY LAYERS

```
Layer 1: FRONTEND
  â€¢ HTTPS only
  â€¢ No local storage
  â€¢ Files cleared after upload

Layer 2: API
  â€¢ CORS configured
  â€¢ Rate limiting
  â€¢ Auth tokens (future)

Layer 3: DATABASE
  â€¢ Row Level Security
  â€¢ Encrypted at rest
  â€¢ Access logs

Layer 4: FILE STORAGE
  â€¢ Auto-delete after processing
  â€¢ 30-day retention for reports
  â€¢ No PII in logs

Layer 5: LLM
  â€¢ Anonymized data
  â€¢ API keys in .env
  â€¢ No sensitive logging
```

---

**For visual diagrams in presentation, use tools like:**
- Draw.io (free)
- Lucidchart
- Mermaid (markdown-based)
- PowerPoint SmartArt

**This text file provides the logical flow for creating visuals.**
